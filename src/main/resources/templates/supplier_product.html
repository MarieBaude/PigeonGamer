<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<title>Liste des produits</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	</head>
	<body>
	<nav style="display:flex; justify-content: flex-end; margin: 2rem;">
			<!-- Button trigger modal -->
			<button type="button" class="btn btn-info" data-toggle="modal" data-target="#exampleModal">
			  Panier
			</button>
			
			<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			  <div class="modal-dialog" role="document">
				  <form action="new_command" method="post">
				    <div class="modal-content">
				      <div class="modal-header">
				        <h5 class="modal-title" id="exampleModalLabel">Panier</h5>
				      </div>
				      
				      <table class="modal-body table table-striped table-responsive-md" border="1">
					      <thead>
			                <tr>
			                    <th>Nom</th>
			                    <th>Prix</th>
			                </tr>
			            </thead>
			            <tbody>
			            	<tr th:each="product : ${cartList}">
						      	<td th:text="${product.product_name}"></td>
						      	<td th:text="${product.product_price} + €"></td>
						    </tr>
			            </tbody>
				      </table> 
				      	
				      
				      <div class="modal-footer">
				        <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
				        <button type="submit" class="btn btn-info">Valider la commande</button>
				      </div>
				    </div>
				  </form>
				  
			  </div>
			</div>
		</nav>
		<main class="container my-2">
	        <h1>Liste des articles disponible à la commande</h1>
			<form action="addToCart" method="post">
		        <table border="1" class="table table-striped table-responsive-md">
		            <thead>
		                <tr>
		                    <th>Nom</th>
		                    <th>Description</th>
		                    <th>Prix</th>
		                    <th>Stock</th>
		                    <th>Actions</th>
		                </tr>
		            </thead>
		            	
		            <tbody>
		                <tr th:each="product : ${listProducts}">
		                    <td th:text="${product.product_name}"></td>
		                    <td th:text="${product.product_desc}"></td>
		                    <td th:text="${product.product_price} + €"></td>
		                    <td th:text="${product.product_stock}"></td>
		                    <td> 
		                    	<button type="submit" class="btn btn-info" th:href="@{/showFormForUpdate/{id}(id=${id_product})}">Ajouter</button>
		                    </td>
		                </tr>
		            </tbody>
		        </table>
		       </form>
	        
	        <a th:href="@{/dashboard}">Retour au dashboard</a>
	    </main>
	    
	    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
		
	</body>
</html>